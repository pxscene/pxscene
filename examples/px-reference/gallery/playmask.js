"use strict";
var programs = {"programs":[{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8758522316428539112.jpg","title":"Eva Hesse","year":2016,"starRating":3,"mediumSynopsis":"This engaging documentary profiles Eva Hesse, a pioneer in postminimal art who was known for her use of plastics in sculptures. Although she enjoyed success during the 1960s, her career was tragically cut short when she died of a brain tumor in 1970 at the age of 34."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8602791843657846112.jpg","title":"Weiner","year":2016,"starRating":3,"mediumSynopsis":"This riveting behind-the-scenes documentary follows former congressman Anthony Weiner as he runs for mayor of New York City in 2013. During the campaign, he becomes embroiled in a second widely publicized sexting scandal, which ultimately derails his once-promising political career."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8743595776572224112.jpg","title":"Richard Linklater: Dream is Destiny","year":2016,"starRating":3,"mediumSynopsis":"This intimate look at the career of director Richard Linklater includes behind-the-scenes footage and interviews with the filmmaker himself, ultimately exploring how his humble DIY beginnings in Texas led to a host of innovative and iconic movies."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8562248804963466112.jpg","title":"Moana","year":2016,"starRating":3,"mediumSynopsis":"Young navigator Moana teams with demigod Maui to locate a legendary island, and together the pair explore fantastical lands and encounter incredible sea creatures."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8396604764875510112.jpg","title":"Don't Think Twice","year":2016,"starRating":3,"mediumSynopsis":"In this hilarious, bittersweet comedy about trying to make it in showbiz, the members of an NYC improv troupe are forced to reflect on their failures when one of their own lands a plum role on a hugely popular TV show."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8458385962102075112.jpg","title":"Manchester by the Sea","year":2016,"starRating":3,"mediumSynopsis":"A hardened handyman returns to his hometown to care for his 16-year-old nephew, but his arrival unearths a checkered history."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8601714594537362112.jpg","title":"Everybody Wants Some!!","year":2016,"starRating":3,"mediumSynopsis":"In this hilarious comedy set in 1980 Texas, the members of a college baseball team crash one party after the next in search of a good time. Meanwhile, a freshman addition to the squad finds himself falling for an artsy student."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8420041394247284112.jpg","title":"The Eagle Huntress","year":2016,"starRating":3,"mediumSynopsis":"This inspiring documentary profiles a 13-year-old Mongolian girl  who strives to become the first female in her culture to learn to hunt alongside a trained eagle. As she prepares for an annual eagle-hunting competition, she must also deal with the disapproval of several tribal elders."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8304470204543565112.jpg","title":"Equity","year":2016,"starRating":3,"mediumSynopsis":"A senior investment banker tries to prove her worth to her firm by bringing in a tech company that's on the verge of going public. However, the IPO causes her to get tangled up in an investigation into securities fraud in this intense drama."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8139424310197637112.jpg","title":"Ghostbusters","year":2016,"starRating":3,"mediumSynopsis":"In this thrilling and hilarious reboot of the beloved sci-fi-comedy franchise, two paranormal researchers join forces with a nuclear engineer and a subway attendant to fight off a slew of ghosts that have invaded New York City. Eventually, they come face-to-face with an evil entity who can control human beings."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8299484957291084112.jpg","title":"A Beautiful Planet","year":2016,"starRating":3,"mediumSynopsis":"This stunning documentary explores humanity's impact on the Earth via footage shot from the International Space Station. The film shows the gradual progression of events such as the deforestation of the Amazon and the melting of glaciers in Greenland."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/7762675461312278112.jpg","title":"The Edge of Seventeen","year":2016,"starRating":3,"mediumSynopsis":"A narcissistic high schooler named Nadine is horrified when her best friend starts dating her impossibly perfect brother. Soon, she falls into a downward spiral that forces her to reflect on her cruel behavior in this intelligent coming-of-age story."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/7877089714557497112.jpg","title":"Caf?? Society","year":2016,"starRating":3,"mediumSynopsis":"In this charming comedy-drama set in the 1930s, a New Yorker named Bobby moves to Hollywood to work for his uncle Phil, a powerful agent. He soon falls for Phil's secretary Vonnie, unaware that she's secretly having an affair with his uncle. In time, a disillusioned Bobby returns home to run a nightclub for his gangster brother."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/7712845027477000112.jpg","title":"Kevin Hart: What Now?","year":2016,"starRating":3,"mediumSynopsis":"Comedian Kevin Hart returns to his hometown of Philadelphia to perform in front of a record-setting, sold-out crowd at the Lincoln Financial Field in this hilarious stand-up film. The movie contains both footage of the show and short skits."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/7799263767623842112.jpg","title":"Boom Bust Boom","year":2016,"starRating":3,"mediumSynopsis":"This thought-provoking documentary explores the global economic system and the history of financial crashes via interviews with experts, animated segments, puppetry and songs."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/7693697111333817112.jpg","title":"The Innocents","year":2016,"starRating":3,"mediumSynopsis":"In this shattering historical drama set in 1945 Warsaw, a French Red Cross doctor is called to a convent on an urgent matter. Once there, she helps a nun give birth and discovers that several other women at the monastery are also pregnant."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8793714922558128112.jpg","title":"Tony Robbins: I Am Not Your Guru","year":2016,"starRating":2,"mediumSynopsis":"This inspiring documentary profiles motivational speaker Tony Robbins as he holds an annual seminar known as \"Date With Destiny\" in Boca Raton, Fla. During the event, Robbins encourages attendees to confront their issues and take charge of their lives."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8701469078200407112.jpg","title":"Suicide Squad","year":2016,"starRating":2,"mediumSynopsis":"In this wild and anarchic \"super-antihero\" film, a team of incarcerated villains, including Deadshot, Harley Quinn, Enchantress, El Diablo and Killer Croc, are recruited by the government for a dangerous mission in exchange for reduced sentences."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8797614352598318112.jpg","title":"Me Before You","year":2016,"starRating":2,"mediumSynopsis":"In this tearjerking romantic drama, a young woman acts as a caregiver for a banker who was paralyzed in an accident. Her no-nonsense ways force him to reconnect with life, and the pair eventually develop feelings for each other."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8638271398883651112.jpg","title":"Jane Wants a Boyfriend","year":2016,"starRating":2,"mediumSynopsis":"In this deeply romantic comedy-drama, a lonely autistic woman falls for a charming chef. However, her caring but protective sister has misgivings about their relationship."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8612723068152472112.jpg","title":"Joshy","year":2016,"starRating":2,"mediumSynopsis":"After his engagement falls apart, Josh and four of his hard-living friends decide to go through with the plans for the bachelor party in an attempt to cope. This hilarious mumblecore comedy was mostly improvised by the actors."},{"url":"http://pxscene.org/examples/px-reference/gallery/images/coverflow/8676478453025596112.jpg","title":"Ice Age: Collision Course","year":2016,"starRating":2,"mediumSynopsis":"Bumbling squirrel Scrat accidentally sends an asteroid hurtling toward Earth, which forces Manny the woolly mammoth, Sid the sloth and Diego the saber-toothed tiger to embark on a journey to save the planet in this winning animated sequel."}]};


px.import("px:scene.1.js").then( function ready(scene) {
  var root = scene.root;
  
  var w = 180;
  var h = 240;
  var scale = 2;
  var across = 7;
  var progs = programs.programs;
  var progIndex = 0;
//  var baseURL = "http://54.146.54.142/images/dvd_tile.";
  for (var k = 0; k < 1; k++) {
    for(var i = 1; i <= 21; i++) {
//      var url = baseURL+i+".jpg";
      var url = progs[progIndex++].url;

      console.log(url);
      var j = i-1;
      var maskurl = process.cwd()+"/../../images/postermask2.png";
//      var maskurl = process.cwd()+"/../../images/banana.png";
      var im = scene.create({t:"image",x:j%across*w,y:Math.floor(j/across)*h,url:url,parent:root,w:w,h:h,cx:w/2,cy:h/2,ry:1,rz:0});      
//      var im2 = scene.create({t:"image",x:j%across*w,y:Math.floor(j/across)*h,maskurl:maskurl,draw:false,mask:true,parent:im,w:w,h:h,cx:w/2,cy:h/2,ry:1,rz:0});

        im.animateTo({r:-360},1.0,scene.animation.TWEEN_LINEAR,scene.animation.OPTION_LOOP,scene.animation.COUNT_FOREVER);
    } 
  }
});
